{% extends "account/base.html" %}
{% load widget_tweaks %}

{% block title %}Edit Profile for {{user.get_full_name|title}} {% endblock %}
{% load staticfiles %}

{% block content %}

<div class="row">
  <div class="col m6 offset-m2">
    <h5>{{user.get_full_name|title}}</h5>
    <h6>Edit Profile</h6>
    <div class="row">
      <div class="col s12">
        <ul class="tabs">
          <li class="tab col s3"><a class="blue-text active" href="#main">Main</a></li>
          <li class="tab col s3"><a class="blue-text" href="#other">Other</a></li>
          <li class="tab col s3"><a class="blue-text" href="#location">Personal</a></li>
        </ul>
      </div>
      <div id="main" class="col s12">
        <form method="post">
          {% csrf_token %}
        {% for field in user_form %}

          <div class="input-field">
            {{ field.label_tag }}
            {{ field}}
          </div>

          {% if field.help_text %}
            <small style="color: grey">{{ field.help_text }}</small>
          {% endif %}
          {% for error in field.errors %}
                  <strong class="red-text">{{ error|escape }}</strong>
          {% endfor %}
        {% endfor %}

        <div class="input-field">
          <small class="grey-text">Gender</small>
          {{ profile_form.gender}}
        </div>

        </div>

      <div id="other" class="col s12">

        <div class="input-field">
          <small class="grey-text">What activities would you like to participate in?</small>
          {{ profile_form.participation_type}}
        </div>
        <!-- Switch -->
        <small class="grey-text">Notify me of upcoming debates</small>
        <div class="switch">
          <label>
            Off
            {{ profile_form.notify}}
            <span class="blue lever"></span>
            On
          </label>
        </div>

        <div class="input-field">
          {{ profile_form.bio.label_tag }}
          {{ profile_form.bio|add_class:"materialize-textarea"}}
        </div>
        {% if profile_form.bio.help_text %}
          <small class="grey-text">{{ profile_form.bio.help_text }}</small>
        {% endif %}
        {% for error in profile_form.bio.errors %}
                <strong class="red-text">{{ error|escape }}</strong>
        {% endfor %}

        <div class="input-field">
          {{ profile_form.date_of_birth.label_tag }}
          {{ profile_form.date_of_birth|add_class:"datepicker"}}
          <small>Not visible to others. Used to celebrate birthdays</small>
        </div>
        {% if profile_form.date_of_birth.help_text %}
          <small class="grey-text">{{ profile_form.date_of_birth.help_text }}</small>
        {% endif %}
        {% for error in profile_form.date_of_birth.errors %}
                <strong class="red-text">{{ error|escape }}</strong>
        {% endfor %}

      </div>

   <div id="location" class="col s12">
        <div class="input-field">
          {{ profile_form.other_name.label_tag }}
          {{ profile_form.other_name}}
        </div>
        {% if profile_form.other_name.help_text %}
          <small class="grey-text">{{ profile_form.other_name.help_text }}</small>
        {% endif %}
        {% for error in profile_form.other_name.errors %}
                <strong class="red-text">{{ error|escape }}</strong>
        {% endfor %}

        <div class="input-field">
          {{ profile_form.specialization.label_tag }}
          {{ profile_form.specialization}}
        </div>
        {% if profile_form.specialization.help_text %}
          <small class="grey-text">{{ profile_form.specialization.help_text }}</small>
        {% endif %}
        {% for error in profile_form.specialization.errors %}
                <strong class="red-text">{{ error|escape }}</strong>
        {% endfor %}

        <div class="input-field">
          {{ profile_form.city.label_tag }}
          {{ profile_form.city}}
        </div>
        {% if profile_form.city.help_text %}
          <small class="grey-text">{{ profile_form.city.help_text }}</small>
        {% endif %}
        {% for error in profile_form.city.errors %}
                <strong class="red-text">{{ error|escape }}</strong>
        {% endfor %}


        <div class="input-field">
          {{ profile_form.country}}
        </div>
        {% if profile_form.country.help_text %}
          <small class="grey-text">{{ profile_form.country.help_text }}</small>
        {% endif %}
        {% for error in profile_form.country.errors %}
                <strong class="red-text">{{ error|escape }}</strong>
        {% endfor %}

      </div>
    </div>

        <div class="row"><br>
          <button class="blue btn" type="submit">Save changes</button><br/>
        </div>
      </form>
      </div>

    </div>

    {% endblock %}
